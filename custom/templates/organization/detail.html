{% extends 'base_sidebar.html' %}
{% load i18n %}
{% load static %}
{% load relation_tags %}
{% load common_tags %}
{% load thumbnail files_widget_tags %}

{% block title %}{{ instance.get_display_name }}{% endblock %}
{% block description %}{{ instance.description|striptags }}{% endblock %}
{% block image %}{% spaceless %}
    {% if instance.image.url %}
        {% thumbnail instance.image|unquote '260x260' upscale=True padding=20 format=instance.image|thumbnail_format as thumb %}
            {{ thumb.url }}
        {% endthumbnail %}
    {% endif %}
{% endspaceless %}{% endblock %}

{% block search_index_text %}{{ instance|get_search_text|safe }}{% endblock %}

{% block title_class %} hidden{% endblock %}

{% block content_class %} detail organize bg-white bg-white-wrapper{% endblock %}

{% block link_back %} <a class="back-link" ng-href="/organization/startup/"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> {% trans 'Supporter' %}</a>{% endblock %}

{% block breadcrumb %}
    <a href="/{{ instance.type_of_organization }}/" class="link-breadcrumb" ng-cloak style="text-transform: capitalize">
        {[{ organization.type_of_organization }]}
    </a>
    {{ organization }}
{% endblock %}


{% block js %}
<script type="text/javascript">
    var organization_permalink = '{{ organization_permalink }}';
    var organization_id = {{ organization_id }};
</script>
{#<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=crosalot"></script>#}
{% endblock %}
{% block main_extra %} ng-clock ng-controller="OrganizationDetailController"{% endblock %}

{% block alert %}
<div class="alert alert-warning" ng-if="organization.status==-1">
    This {[{ organization.type_of_organization }]} is pending for approval
</div>
<div class="alert alert-warning" ng-if="organization.status==0">
    <span ng-if="!organization.is_mockup">This {[{ organization.type_of_organization }]} is draft</span>
    <span ng-if="organization.is_mockup">
        This {[{ organization.type_of_organization }]} is mockup.<br />
        * If you are administrator of {[{ organization.type_of_organization }]} name "{[{ organization.get_display_name }]}",
        please
        <a ng-href="{% url 'account_register' %}?next=%2Forganization%2F{[{ organization.type_of_organization }]}%2Fcreate%2F%3Fname%3D{[{ organization.get_display_name }]}">join</a>
        or
        <a ng-href="{% url 'account_login' %}?next=%2Forganization%2F{[{ organization.type_of_organization }]}%2Fcreate%2F%3Fname%3D{[{ organization.get_display_name }]}">login</a>
        to claim the {[{ organization.type_of_organization }]}.</span>
</div>
{% endblock %}

{% block primary %}

<!-- Block Primary -->
<div class="row startup-cover-wrapper">
    <div ng-if="organization.get_thumbnail_cover_image" class="startup-cover" style="background-image: url('{[{ organization.get_thumbnail_cover_image }]}')"></div>

    <div ng-if="!organization.get_thumbnail_cover_image" class="startup-cover-blank">
    <!-- <img src="http://via.placeholder.com/1140x469" alt="" width="100%"/> -->
    <img src="/static/images/default.jpg" alt="" width="100%" />
    </div>
</div>
<div class="block-primary clearfix">
    {% if user.is_authenticated %}
    <a ng-if="organization.can_edit" href="/organization/{[{ organization_id }]}/edit/" class="btn btn-default btn-xs pull-right ico-edit">
        <span class="glyphicon glyphicon-edit"></span> {% trans 'Edit' %}
    </a>
    {% endif %}

    <div class="col-md-12 primary-party">
        <alert id="alert_contact" ng-show="alert['message'].show" type="{[{alert['message'].type}]}" close="alert['message'].show = !alert['message'].show" ng-bind="alert['message'].msg" ng-clock></alert>
        <div class="row">
            <div class="col-sm-7 block-org info-wrapper">
                <div class="primary-info">
                    <div class="small-logo pull-left thumbnail">
                        <span>
                            <img ng-src="{[{ organization.get_thumbnail_in_primary }]}" alt="{[{ organization.name }]}" ng-cloak/>
                        </span>
                    </div>
                    <div class="group-info">
                        <h2 ng-if="organization.name" class="title" ng-cloak>
                            {[{ organization.name }]}
                        </h2>

                        <div ng-if="organization.get_summary" class="description" ng-cloak ng-bind="organization.get_summary">
                        </div>

                    </div>
                </div>
            </div>
            {% if logged_in_party != organization_id %}
            <div class="col-sm-5 block-follow">
                <div class="action-panel">
                    <div love-button party="organization" template="love_compact_button.html"></div>
                    <div follow-button party="organization" template="follow_compact_button.html"></div>
                    <div class="take-action-wrapper" ng-class="hide_self_class()">
                        <a class="btn-activity" message-popup>
                            <span class="icostartup icon-contact"></span>
                            <span class="text-action">{% trans 'Contact' %}</span>
                        </a>
                    </div>
                </div>
                <div class="view-like">
                    <div class="view-like-wrapper">
                        <div class="like-count -org text-right -like" ng-cloak>
                            <div class="text-center">
                                <a href="" title="{% trans 'Who love this' %}" ng-click="modal_love_list()" ng-cloak>{[{ organization.total_love | number:0 }]}</a> {% trans 'Love' %}{[{organization.total_love > 1 ? 's' : ''}]}
                            </div>
                        </div>

                        <div class="like-count -org text-right" ng-cloak>
                            <div class="text-center">
                                <a title="{% trans 'Who view this' %}" ng-cloak>{[{ organization.total_views | number:0 }]}</a> {% trans 'View' %}{[{organization.total_views > 1 ? 's' : ''}]}
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>
<!-- End Block Primary -->


<!-- Nav tabs Party -->
<div id="nav-tab-party"></div>
<ul class="nav nav-tabs nav-party primary-tab hidden-xs clearfix" ng-controller="FollowerParamController">
    <li><a href="##overview" ng-click="selected_tab(1)" id="overview" ng-class="tab_list_active_class(1)">{% trans 'Overview' %}</a></li>
    {% if not HIDE_FULL_PROFILE %}
    <li ng-show="is_not_type_support()"><a href="##full_profile" ng-click="selected_tab(2)" id="full_profile" ng-class="tab_list_active_class(2)">{% trans 'Full Profile' %}</a></li>
    {% endif %}
    <li><a href="##happening" ng-click="selected_tab(3)" id="happening" ng-class="tab_list_active_class(3)">{% trans 'Happening' %}</a></li>
    <li><a href="##followers" ng-click="selected_tab(4)" id="followers" ng-class="tab_list_active_class(4)">{% trans 'Followers' %}<span class="label label-grey" ng-cloak>{[{FollowerService.total_followers}]}</span></a></li>
    {% if not HIDE_FOLLOWING %}
    <li><a href="##followings" id="followings" ng-click="selected_tab(5)" ng-class="tab_list_active_class(5)">{% trans 'Following' %}<span class="label label-grey" ng-cloak>{[{FollowerService.total_following}]}</span></a></li>
    {% endif %}
    {% if not HIDE_TESTIMONIAL %}
    <li><a href="##testimonials" ng-click="selected_tab(6)" id="testimonials" ng-class="tab_list_active_class(6)" ng-clock>{% trans 'Testimonials' %}<span class="label label-grey" >{[{organization.total_testify}]}</span></a></li>
    {% endif %}
</ul>

<div class="primary-tab dropdown dropdown-tab-square visible-xs" ng-controller="FollowerParamController">
    <a id="party-tab-drop" class="dropdown-toggle btn btn-default"><span class="text">{% trans 'Overview' %}</span> <span class="caret pull-right"></span></a>
    <ul class="dropdown-menu" role="menu" aria-labelledby="party-tab-drop">
        <li><a ng-click="selected_tab(1)" ng-class="tab_list_active_class(1)">{% trans 'Overview' %}</a></li>
        {% if not HIDE_FULL_PROFILE %}
        <li ng-show="is_not_type_support()"><a ng-click="selected_tab(2)" ng-class="tab_list_active_class(2)">{% trans 'Full Profile' %}</a></li>
        {% endif %}
        <li class="hide"><a ng-click="selected_tab(3)" ng-class="tab_list_active_class(3)">Happening</a></li>
        <li><a ng-click="selected_tab(4)" ng-class="tab_list_active_class(4)" ng-cloak>Followers&nbsp;<span class="label label-grey">{[{ FollowerService.total_followers}]}</span></a></li>
        {% if not HIDE_FOLLOWING %}
        <li><a ng-click="selected_tab(5)" ng-class="tab_list_active_class(5)" ng-cloak>Following&nbsp;<span class="label label-grey">{[{ FollowerService.total_following}]}</span></a></li>
        {% endif %}
        {% if not HIDE_TESTIMONIAL %}
        <li><a ng-click="selected_tab(6)" ng-class="tab_list_active_class(6)" ng-clock>Testimonials&nbsp;<span class="label label-grey">{[{organization.total_testify}]}</span></a></li>
        {% endif %}
    </ul>
</div>
<!-- End Nav Party -->

{% endblock %}

{% block content %}

<!-- Start Overview Tab -->
<div class="overview" ng-class="tab_active_class(1)">

    {[{ working_spaces_information=organization.program && (organization.program.working_spaces_information|toJSON);'' }]}

    <!-- Start : Use by Startup, Supporter, Investor -->
    <div ng-if="organization.code" class=" _mb-15">
        <div class="block block-ecosystem-id">{% trans 'Ecosystem ID :' %} <span ng-bind-html="organization.code | sanitize"></span></div>
        <hr />
    </div>
    <!-- End : Use by Startup, Supporter, Investor -->

    <!-- Block-About -->
    <div ng-if="organization.description" class="block block-experience overview-about">

        {% comment %}
        <h2 class="-summary _mb-30" ng-if="organization.summary" ng-cloak ng-bind="organization.summary"></h2>
        {% endcomment %}

        <h2 class="block-title">{% trans "About" %}</h2>

        <div id="description" 
             ng-bind-html="organization.description | sanitize"
             class="content -description -custom"
             ng-class="collapse_class(organization.description)">
        </div>

        <button ng-if="check_content_length(organization.description)"
                data-toggle="collapse" data-target="#description" 
                ng-click="flag = !flag" 
                class="btn-link _pl-0 _pr-0 toggle-button _border-no" 
                ng-class="{ active : flag }">
            <span class="toggle-collapsed">{% trans "Read more" %}</span>
            <span class="toggle-expanded">{% trans "Close" %}</span>
        </button>

        <hr />

    </div><!-- End block About -->

    <!-- Block Organization's Program -->
    <div ng-if="organization.program && organization.program.organization" class="block block-organization">

        <h2 class="block-title">Organization's Program</h2>

        <ul class="item-list support-list">
            <li class="support-item item" ng-init="party=organization.program.organization">
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>
        <hr />

    </div><!-- End block Organization's Program -->

    <!-- TODO : Block-Images -->
    <div ng-if="false">
        <div ng-if="organization.get_thumbnail_images.length" class="block block-screenshort">
            <h2 class="block-title">{% trans "Screenshots" %}</h2>
            <div class="screenshort-wrapper">
                <div class="screenshort-content">
                    <ul class="row item-list images-list">
                        <li ng-repeat="image in organization.get_thumbnail_images"  class="image-item item">
                            <div class="img-wrapper">
                                <div class="img-bg">
                                    <div class="relative">
                                        <div class="img-bg bg-black box-shadow">
                                        </div>
                                    </div>
                                </div>
                                <img ng-src="{[{ image }]}" alt="screenshort" />
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <hr />
    
        </div>
    </div><!-- End block Images -->


    <!-- Block : Programs list -->
    <div class="block list-view" ng-if="organization.program_organization.length > 0">
        <h2 class="block-title">{% trans "Incubation/Acceleration Programs" %}</h2>
        <ul class="item-list support-list">
            <li ng-repeat="party in organization.program_organization"  class="support-item item">
                {[{ party.status }]}
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>
        <hr />

    </div><!-- End Block : Programs list -->

    {% comment %}
    <!-- Block Portfolio -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/portfolio', { party_portfolios: organization_id, limit: 6}, '-ordering')" class="block block-portfolio block-col-3" ng-class="should_show_list_class()">
        <h2 class="block-title">{% trans "Portfolio" %}</h2>
        <ul class="row item-list portfolio-list">
            <li ng-repeat="party in party_list"  class="col-md-4 col-xs-6 porfolio-item item" ng-class="party.item_class_row_three()">
                <div ng-include="'template_party_item_style_default_2.html'"></div>
            </li>
        </ul>
        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    <!-- End Block Portfolio -->
    {% endcomment %}

    <!-- Block-company_vision -->

    <div ng-if="organization.company_vision" class="block block-experience overview-about">

        <h2 class="block-title">Company Vision</h2>

        <div id="company_vision"
            ng-bind-html="organization.company_vision | sanitize"
            class="content -description -custom"
            ng-class="collapse_class(organization.company_vision)">
        </div>

        <button ng-if="check_content_length(organization.company_vision)"
                data-toggle="collapse" data-target="#company_vision" 
                ng-click="flag = !flag" 
                class="btn-link _pl-0 _pr-0 toggle-button _border-no" 
                ng-class="{ active : flag }">
            <span class="toggle-collapsed">{% trans "Read more" %}</span>
            <span class="toggle-expanded">{% trans "Close" %}</span>
        </button>

        <hr />

    </div><!-- End Block-company_vision -->

    <!-- Block-company_mission -->
    <div ng-if="organization.company_mission" class="block block-experience overview-about">

        <h2 class="block-title">Company Mission</h2>

        <div id="company_mission" 
            ng-bind-html="organization.company_mission | sanitize" 
            class="content -description -custom"
            ng-class="collapse_class(organization.company_mission)">
        </div>

        <button ng-if="check_content_length(organization.company_mission)"
                data-toggle="collapse" data-target="#company_mission" 
                ng-click="flag = !flag" 
                class="btn-link _pl-0 _pr-0 toggle-button _border-no" 
                ng-class="{ active : flag }">
            <span class="toggle-collapsed">{% trans "Read more" %}</span>
            <span class="toggle-expanded">{% trans "Close" %}</span>
        </button>

        <hr />

    </div><!-- End Block-company_mission -->

    <!-- Block-business_model -->
    <div ng-if="organization.business_model" class="block block-experience overview-about">

        <h2 class="block-title">Business Model</h2>

        <div id="business_model" 
             ng-bind-html="organization.business_model | sanitize" 
             class="content -description -custom"
             ng-class="collapse_class(organization.business_model)">
        </div>

        <button ng-if="check_content_length(organization.business_model)"
                data-toggle="collapse" data-target="#business_model" 
                ng-click="flag = !flag"
                class="btn-link _pl-0 _pr-0 toggle-button _border-no" 
                ng-class="{ active : flag }">
            <span class="toggle-collapsed">{% trans "Read more" %}</span>
            <span class="toggle-expanded">{% trans "Close" %}</span>
        </button>

        <hr />

    </div><!-- End block business_model -->

    <!-- Block-business_model -->
    <div ng-if="organization.growth_strategy" class="block block-experience overview-about">

        <h2 class="block-title">Growth Strategy</h2>

        <div id="growth_strategy" 
             ng-bind-html="organization.growth_strategy | sanitize" 
             class="content -description -custom"
             ng-class="collapse_class(organization.growth_strategy)">
        </div>

        <button ng-if="check_content_length(organization.growth_strategy)"
                data-toggle="collapse" data-target="#growth_strategy" 
                ng-click="flag = !flag" 
                class="btn-link _pl-0 _pr-0 toggle-button _border-no" 
                ng-class="{ active : flag }">
            <span class="toggle-collapsed">{% trans "Read more" %}</span>
            <span class="toggle-expanded">{% trans "Close" %}</span>
        </button>        

        <hr />

    </div><!-- End block business_model -->

    <!-- Block In THe News -->
    <div ng-if="organization.in_the_news.length > 0">

        <h2 class="block-title">{% trans "In The News" %}</h2>
        <ul class="item-list support-list -inthenews">
            <li class="support-item item" ng-repeat="party in organization.in_the_news">
                <div ng-include="'template_in_the_news.html'"></div>
            </li>
        </ul>
        <hr />

    </div>
    <!-- End block Received funding record -->

    {% comment %}
    <!-- Block Clients  -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/party_partner_party/', 
                                                        {status: 1, dst: organization_id, limit: 6}, 
                                                        '', 
                                                        'src', 
                                                        ['REQUIRED_APPROVAL', 
                                                        'status'])" 
                            class="block list-view" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Partners" %}</h2>
        <ul class="item-list support-list">
            <li class="support-item item" ng-repeat="party in party_list" >
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>
        <hr />

    </div>
    <!-- End block Clients  -->
    {% endcomment %}

    <!-- Block Funding Round -->
    <div ng-if="organization.funding_round_organization.length > 0" class="block block-funding-round">

        <h2 class="block-title">Funding Round</h2>

        <div class="table-responsive">
            <table class="table table-bordered table-center">
                <thead>
                    <tr>
                        <th colspan="3">Announced Date</th>
                        <th colspan="3">Closed on Date</th>
                    </tr>
                    <tr>
                        <th>Year</th>
                        <th>Month</th>
                        <th>Day</th>
                        <th>Year</th>
                        <th>Month</th>
                        <th>Day</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in organization.funding_round_organization">
                        <td ng-bind="item.announced_date|toDateFormat:'YYYY'"></td>
                        <td ng-bind="item.announced_date|toDateFormat:'MMMM'"></td>
                        <td ng-bind="item.announced_date|toDateFormat:'D'"></td>
                        <td ng-bind="item.closed_date|toDateFormat:'YYYY'"></td>
                        <td ng-bind="item.closed_date|toDateFormat:'MMMM'"></td>
                        <td ng-bind="item.closed_date|toDateFormat:'D'"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <hr />
    </div>
    <!-- End block Funding Round -->

    <!-- Block Funding Detail -->
    <div ng-if="organization.get_type_of_organization == 'investor' && organization.money_deal_size_start || organization.money_deal_size_end" class="block block-funding-detail">

        <h2 class="block-title">Funding Detail</h2>

        <div class="row">

            <div ng-if="organization.money_deal_size_start || organization.money_deal_size_end" class="block-content-group col-sm-12">
                <div class="label-title"><strong>Deal Size</strong></div>
                <div class="content -description">
                    <span ng-bind="organization.money_deal_size_start"></span> - <span ng-bind="organization.money_deal_size_end"></span>
                </div>
                <br />
            </div>

            <div ng-if="organization.money_money_raise" class="block-content-group col-sm-6">
                <div class="label-title"><strong>Money Raise</strong></div>
                <div class="content -description">
                    <span ng-bind="organization.money_money_raise"></span>
                </div>
                <br />
            </div>

            <div ng-if="organization.money_target_funding" class="block-content-group col-sm-6">
                <div class="label-title"><strong>Target Funding</strong></div>
                <div class="content -description">
                    <span ng-bind="organization.money_target_funding"></span>
                </div>
                <br />
            </div>

            <div ng-if="organization.money_pre_money_valuation" class="block-content-group col-sm-6">
                <div class="label-title"><strong>Pre-Money Valuation</strong></div>
                <div class="content -description">
                    <span ng-bind="organization.money_pre_money_valuation"></span>
                </div>
                <br />
            </div>


        </div>


        <div ng-if="organization.money_amount_of_money_invested">
            <div class="label-title">
                <span>
                    <span class="glyphicon glyphicon-check check-icon"></span>
                    <span class="check-label">The company acting as a Lead Investor in this funded organization<span ng-if="organization.money_amount_of_money_invested">, {[{ organization.money_amount_of_money_invested }]} THB</span></span>
                </span>
            </div>
        </div>

        <div ng-if="organization.has_taken_equity_in_fund_organization">
            <div class="label-title">
                <span>
                    <span class="glyphicon glyphicon-check check-icon"></span>
                    <span class="check-label">The company has ever taken equity in the funded organization</span>
                </span>
            </div>
        </div>

        <hr />

    </div><!-- End block Funding Detail -->

    <!-- Block Program Participate -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/organization_participate/', {status: 1, src: organization_id, limit: 6}, '', 'dst', ['REQUIRED_APPROVAL', 'status', ['data', 'function (item) { return item.month ? (item.month + \' months\') : \'\' }']])" class="block list-view" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Participated Programs" %}</h2>
        <ul class="item-list support-list">
            <li class="support-item item" ng-repeat="party in party_list">
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    <!-- End block Program Participate -->


    <!-- Block Teams -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/organization_staff/', {organization__id: organization_id, limit: 6, staff_status: 100}, 'id', 'user', [['get_summary', 'function (item, user) {return item.job_title || user.get_summary}']])" class="block block-people block-col-3 hover-action" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Teams" %}</h2>
        <ul class="row item-list people-list">
            <li ng-repeat="party in party_list" class="col-md-4 col-xs-6 user-image people-item party-item item" ng-class="party.item_class_row_three()">
                <div ng-include="'template_party_item.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    <!-- End block Teams -->

    <!-- Block Mentor -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/organization_staff/', {organization__id: organization_id, limit: 6, staff_status: 101}, 'id', 'user', [['get_summary', 'function (item, user) {return item.job_title || user.get_summary}']])" class="block block-people block-col-3 hover-action" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Mentorships" %}</h2>
        <ul class="row item-list people-list">
            <li ng-repeat="party in party_list" class="col-md-4 col-xs-6 user-image people-item party-item item" ng-class="party.item_class_row_three()">
                <div ng-include="'template_party_item.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    <!-- End block Operating Staffs -->

    <!-- Block Operating Staffs -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/organization_staff/', {organization__id: organization_id, limit: 6, staff_status: 1}, 'id', 'user', [['get_summary', 'function (item, user) {return item.job_title || user.get_summary}']])" class="block block-people block-col-3 hover-action" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Operating Staffs" %}</h2>
        <ul class="row item-list people-list">
            <li ng-repeat="party in party_list" class="col-md-4 col-xs-6 user-image people-item party-item item" ng-class="party.item_class_row_three()">
                <div ng-include="'template_party_item.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    <!-- End block Operating Staffs -->

    <!-- Block partner -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/party_partner_party/', {status: 1, src: organization_id, limit: 6}, '', 'dst', ['REQUIRED_APPROVAL', 'status'])" class="block list-view" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Partners" %}</h2>
        <ul class="item-list support-list partners-list">
            <li class="support-item item" ng-repeat="party in party_list">
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    <!-- End block partners -->

    <!-- Block Received funding record -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/party_received_funding_party/', {status: 1, src: organization_id, limit: 6}, '-date', 'dst', ['REQUIRED_APPROVAL', 'status', ['data', 'function (item) { return item.money_amount + (item.date? (\', \' + moment(new Date(item.date)).fromNow()): \'\') + (item.title? (\', \' + item.title): \'\')}']])" class="block list-view" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Received Funding records" %}</h2>
        <ul class="item-list support-list">
            <li class="support-item item" ng-repeat="party in party_list">
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <div ng-if="organization.taken_equity_amount">
            <div class="label-title">
                <span>
                    <span class="glyphicon glyphicon-check check-icon"></span>
                    <span class="check-label">The investor ever taken equity in the startup<span ng-if="organization.taken_equity_amount">, {[{ organization.taken_equity_amount }]} THB</span></span>
                </span>
            </div>
        </div>

        <hr />

    </div>
    <!-- End block Received funding record -->

    <!-- Block Gave funding record -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/party_received_funding_party/', {status: 1, dst: organization_id, limit: 6}, '-date', 'src', ['REQUIRED_APPROVAL', 'status', ['data', 'function (item) { return item.money_amount + (item.date? (\', \' + moment(new Date(item.date)).fromNow()): \'\') + (item.title? (\', \' + item.title): \'\')}']])" class="block list-view" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Given Funding Records" %}</h2>
        <ul class="item-list support-list">
            <li class="support-item item" ng-repeat="party in party_list">
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    <!-- End block Received funding record -->

    <!-- Block Received funding record -->
    <div ng-if="organization.program && ((organization.program.batch_program && (organization.program.batch_program | hasKey:'amount_total_stage')) || organization.program.has_taken_equity_in_participating_team || organization.program.does_provide_financial_supports)" class="block">

        <div ng-if="organization.program.batch_program && (organization.program.batch_program | hasKey:'amount_total_stage')">
            <h2 class="block-title">{% trans "Financial Support and Investment" %}</h2>

            <div class="label-title">
                <strong>Approximate amount of investment in each stage (THB)</strong>
            </div>
            <table class="table table-bordered table-investment_stage_type">
                <thead>
                    <tr>
                        <th></th>
                        <th ng-repeat="item in organization.program.investment_stage_type" ng-if="item.title != 'Other'">{[{ item.title }]}</th>
                        <th ng-if="organization.program.specific_stage">{[{ organization.program.specific_stage }]}</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="row in organization.program.batch_program">
                        <th>{[{ $last ? 'Total' : 'Batch ' + ($index+1) }]}</th>
                        <th ng-repeat="item in organization.program.investment_stage_type" ng-if="item.title != 'Other'">{[{ row['amount_' + item.permalink.split('-').join('_') + '_stage'] }]}</th>
                        <th ng-if="organization.program.specific_stage">{[{ row['amount_specific_stage'] }]}</th>
                        <th>{[{ row['amount_total_stage'] }]}</th>
                    </tr>
                </tbody>
            </table>
        </div>

        <div ng-if="organization.program.has_taken_equity_in_participating_team">
            <div class="label-title">
                <span>
                    <span class="glyphicon glyphicon-check check-icon"></span>
                    <span class="check-label">The organization ever taken equity in participanting teams</span>
                </span>
            </div>
        </div>

        <div ng-if="organization.program.does_provide_financial_supports">
            <div class="label-title">
                <span>
                    <span class="glyphicon glyphicon-check check-icon"></span>
                    <span class="check-label">The organozation provide grants or financial supports to the participanting teams<span ng-if="organization.program.amount_of_financial_supports">, {[{ organization.program.amount_of_financial_supports }]} THB</span></span>
                </span>
            </div>
        </div>

        <hr />

    </div>
    <!-- End block Received funding record -->

    <div ng-if="organization.program && (organization.program.batch_program && (organization.program.batch_program | hasKey:'amount_total_stage'))" class="block">
        <h2 class="block-title">{% trans "Participants Details" %}</h2>
        <table class="table table-bordered table-program-facilities">
            <thead>
                <tr>
                    <th>No.</th>
                    <th>Topic</th>
                    <th ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.title.replace('batch-', 'Batch ') }]}</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Total number of teams applying for the program</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_teams_applying || '-' }]}</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Total number of teams accepted for the program</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_teams_accepted || '-' }]}</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Total number of participants accepted for the program</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_participants_accepted || '-' }]}</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Total number of team graduted teams for the program</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_graduated_teams_accepted || '-' }]}</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Number of training programs conducted and to be conducted</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_training_program || '-' }]}</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Number of events, conferences seminars workshops organized or to be organized</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_organized_event || '-' }]}</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Number of coaches, mentors and speakers in the program</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_coached_staff || '-' }]}</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Number of assisting staffs in the program</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_assisting_staff || '-' }]}</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Approximated number of new products, innovations or technologies to be developed and commercialized</td>
                    <td ng-repeat="item in organization.program.batch_program.slice(0, -1)">{[{ item.total_approximated_products }]}</td>
                </tr>
            </tbody>
        </table>
        <br />

        <hr />
    </div>

    <div ng-if="organization.program && organization.program.does_provide_working_spaces" class="block">

        <h2 class="block-title">{% trans "Program Facilities" %}</h2>

        <div class="row">

            <div ng-if="working_spaces_information['address']" class="block-content-group col-sm-12">
                <div class="label-title"><strong>Address</strong></div>
                <div class="content -description">
                    <span ng-bind="working_spaces_information['address']"></span>
                </div>
                <br />
            </div>

            <div ng-if="working_spaces_information['tel']" class="block-content-group col-sm-6">
                <div class="label-title"><strong>Tel</strong></div>
                <div class="content -description">
                    <span ng-bind="working_spaces_information['tel']"></span>
                </div>
                <br />
            </div>

            <div ng-if="working_spaces_information['email']" class="block-content-group col-sm-6">
                <div class="label-title"><strong>Email</strong></div>
                <div class="content -description">
                    <span ng-bind="working_spaces_information['email']"></span>
                </div>
                <br />
            </div>

            <div ng-if="organization.program.is_own_working_space" class="col-sm-12">
                <div class="label-title">
                    <span>
                        <span class="glyphicon glyphicon-check check-icon"></span>
                        <span class="check-label">The working space own by the organization</span>
                    </span>
                </div>
                <br />
            </div>

            <div ng-if="organization.program.does_provide_service_and_facility && organization.program.get_service_and_facility_information" class="block-content-group col-sm-12">
                <div class="label-title"><strong>Service or facility provided by the program</strong></div>
                <div class="content -description">
                    <ul>
                        <li ng-repeat="item in organization.program.get_service_and_facility_information track by $index" ng-if="item.trim()">{[{ item }]}</li>
                    </ul>
                </div>
                <br />
            </div>


        </div>
        <hr />

    </div>

    <!-- Block Participated Startups -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/organization_participate/', {status: 1, dst: organization_id, limit: 6}, '', 'src', ['REQUIRED_APPROVAL', 'status', ['data', 'function (item) { return item.month ? (item.month + \' months\') : \'\' }']])" class="block list-view" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Participated Startups" %}</h2>
        <ul class="item-list support-list">
            <li class="support-item item" ng-repeat="party in party_list">
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    <!-- End block  Participated Startups  -->

    <!-- Block partners / Clients by -->
    {% comment %}
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/party/' + organization_id + '/partners', {dst: organization_id, limit: 6}, '-ordering', '', ['REQUIRED_APPROVAL', 'status'])" class="block list-view" ng-class="should_show_list_class()">

        <h2 class="block-title">{% trans "Partners / Clients" %}</h2>
        <ul class="item-list support-list">
            <li class="support-item item" ng-repeat="party in party_list">
                <div ng-include="'template_party_item_style_default_small.html'"></div>
            </li>
        </ul>

        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>

        <hr />

    </div>
    {% endcomment %}
    <!-- End block partners / Clients by -->

</div>
<!-- End : Overview Section -->

<div class="happening block-happening-detail" ng-class="tab_active_class(3)">
    <!-- Block Happening -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/happening/', { limit: 5, offset: 0, unpublished: true, receiver_or_actor: organization_id })" class="">
        <h2 class="block-title">{% trans 'Happening' %}</h2>
        <div ng-show="!is_loading && party_list.length == 0">{% trans 'Nothing happen.' %}</div>
        <ul class="list-unstyled happen-list -detailpage">
            <li class="row item" ng-repeat="party in party_list" ng-init="prev_party=party_list[$index-1]; party.days_ago=Math.round((new_Day()-new_Day(party.created))/(1000*3600*24));" ng-include="'happening_list_full.html'">
            </li>
        </ul>
        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img  ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>
    </div><!-- End block Happening -->
</div>

<div class="followers" ng-class="tab_active_class(4)">
    <!-- Block Followers -->
    <div ng-controller="BasicPartyListController" ng-init="init('/api/v1/party_follow_party/', {dst: organization_id, limit: 10, status: 1, is_followers: true, status: 1}, '-id', 'src')" class="block block-followers-list-view" ng-class="should_show_list_class()">

        <h2 class="block-title" >{% trans 'Followers' %}</h2>
        <ul class="item-list followers-list">
            <li ng-repeat="relation in party_list" class="followers-item listview-item item {[{ relation.inst_type }]}-image">
                <div class="list-view">
                    <div class="small-logo pull-left thumbnail">
                        <span>
                           <a ng-if="relation.get_status == notification_status.active" href="{[{ relation.absolute_url }]}"><img ng-src="{[{ relation.get_thumbnail_in_primary }]}"></a>
                           <img ng-if="relation.get_status != notification_status.active" ng-src="{[{ relation.get_thumbnail_in_primary }]}">
                        </span>
                    </div>
                    <div class="group-info" >
                        <h3 class="title"><a ng-if="relation.get_status == notification_status.active" ng-href="{[{ relation.absolute_url }]}" ng-clock>{[{ relation.get_display_name }]}</a></h3>
                        <h3 class="title" ng-if="relation.get_status != notification_status.active">{[{ relation.get_display_name }]}</h3>
                        <div class="description" ng-clock>{[{ relation.get_summary }]}</div>
                        <ul ng-if="relation.country" class="country-list item-list item-list-inline">
                            <li class="country-item item" ng-cloak>
                                <span class="country" ng-clock>{[{ relation.country.title }]}</span>
                            </li>
                        </ul>
                    </div>
                    <div follow-button party="relation" template="follow_text_button.html"></div>
                </div>
            </li>

        </ul>
        <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
            <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
            <img  ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
        </a>
        <!-- End block give support to -->
    </div>
</div>

<!-- End block Happening -->

{% endblock %}

<!-- Sidebar right-->
{% block sidebar %}

<div ng-class="tab_list_active_class(1) || tab_list_active_class(3) || tab_list_active_class(4) || tab_active_class(5)">

    <div class="block block-sidebar block-company-profile row _mb-30">
        <div class="">
            <div class="block-inner col-xs-12 border">

                <h2 class="block-title text-center text-uppercase">{% trans "Company Profile" %}</h2>
                
                <div class="row _mb-15">
                    <div class="col-xs-12 d-flex justify-around flex-wrap">
                        <div ng-if="organization.date_of_establishment" ng-cloak>
                            <div class="text-center company-profile-item -founded">
                                <div class="_fw-bold">{[{ organization.date_of_establishment || '-' | date:'M/yyyy' }]}</div>
                                <span class="text-uppercase ">Founded</span>
                            </div>
                        </div>
                        <div ng-if="organization.get_type_of_organization == 'startup'" ng-cloak>
                            <div class="text-center company-profile-item -stage">
                                <div class="_mb-0" ng-if="organization.stage_of_participants">
                                    <div class="stage-item _mb-0 d-inline" ng-repeat="item in organization.stage_of_participants" ng-class="{'last':$last}"><span class="_fw-bold">{[{ item.title }]}</span></div>
                                </div>
                                <div ng-if="!organization.stage_of_participants.length"><span class="_fw-bold">-</span></div>
                                <span class="text-uppercase">Stage</span>
                            </div>
                        </div>
                        <div ng-if="organization.get_type_of_organization == 'investor'" ng-cloak>
                            <div class="text-center company-profile-item -employees">
                                <div class="_fw-bold">{[{ (organization.extra_information|toJSON).number_of_employees || '-' }]}</div>
                                <span class="text-uppercase">Employees</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Block Funding Type -->
                <div class="block block-sidebar block-topic" ng-if="organization.funding_type.length" id="block-funding_type">
                    <hr class="_mt-10 _mb-10" />
                    <span class="_fs-15 text-uppercase">{% trans "Funding Type" %}</span>
                    <div class="block-content">
                        <ul class="list-unstyled list-topic">
                            <li ng-repeat="item in organization.funding_type" class="item">
                                <span class="topics m2m-tag" ng-clock>
                                    <a ng-href="/{[{ organization.get_type_of_organization }]}/browse/#?funding_type__permalink={[{ item.permalink }]}">
                                        {[{ item.title }]}
                                    </a>
                                </span>
                            </li>
                        </ul>
                    </div>
                </div><!-- End Block Received Investment From -->
                
                <hr class="_mt-10 _mb-10" />

                <div class="website _mb-5" ng-if="organization.homepage_url" ng-cloak>
                    <div class="_mr-15"><icon class="iconfont icon-globe"></icon></div>
                    <div><a href="{[{ organization.homepage_url }]}" class="homepage" target="_blank" ng-cloak>{[{ organization.homepage_url }]}</a></div>
                </div>

                <div class="location" ng-if="organization.location_of_organizations_headquarters" ng-cloak>
                    <div class="_mr-15"><icon class="glyphicon glyphicon-map-marker"></icon></div>
                    <div>{[{ organization.location_of_organizations_headquarters }]}</div>
                </div>

                <div ng-if="organization.other_channel" class="website d-flex flex-row flex-nowrap _mt-15">
                    <div class="_mr-15"><icon class="glyphicon glyphicon-option-vertical"></icon></div>
                    <div>
                        <ul class="list-unstyled _mt-0">
                            <li ng-repeat="item in organization.other_channel.split('\n')">
                                <a href="{[{ item }]}" target="_blank">{[{ item }]}</a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="block-social" ng-cloak>
                    <hr class="_mt-10 _mb-10" />
                    <div class="outlink">
                        <ul class="social list-unstyled _mt-0 _mb-0">
                            <li ng-if="organization.facebook_url"><a href="{[{ organization.facebook_url }]}" class="icon-social icon-facebook" target="_blank"></a></li>
                            <li ng-if="!organization.facebook_url"><span class="icon-social icon-facebook no-link"></span></li>
        
                            <li ng-if="organization.twitter_url"><a href="{[{ organization.twitter_url }]}" class="icon-social icon-twitter" target="_blank"></a></li>
                            <li ng-if="!organization.twitter_url"><span class="icon-social icon-twitter no-link"></span></li>
        
                            <li ng-if="organization.linkedin_url"><a href="{[{ organization.linkedin_url }]}" class="icon-social icon-linkedin" target="_blank"></a></li>
                            <li ng-if="!organization.linkedin_url"><span class="icon-social icon-linkedin no-link"></span></li>
        
                            <li ng-if="organization.instagram_url"><a href="{[{ organization.instagram_url }]}" class="icon-social icon-instagram" target="_blank"></a></li>
                            <li ng-if="!organization.instagram_url"><span class="icon-social icon-instagram no-link"></span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Block Vertical aka Focus Sectors -->
    <div class="block block-sidebar block-topic" ng-if="organization.focus_sector.length" id="block-focus_sector-list">
        <h2 class="block-title">{% trans "Verticals" %}</h2>
        <div class="block-content">
            <ul class="list-unstyled list-topic">
                <li ng-repeat="item in organization.focus_sector" class="item">
                    <span class="topics m2m-tag" ng-clock>
                        <a ng-href="/{[{ organization.get_type_of_organization }]}/browse/#?focus_sector__permalink={[{ item.permalink }]}">{[{ item.title }]}</a>
                    </span>
                </li>
            </ul>
        </div>
        <hr class="horizon-line" />
    </div><!-- End Block Vertical aka Focus Sectors -->

    <!-- Block Investor Types -->
    <div class="block block-sidebar block-topic" ng-if="organization.investor_type" id="block-investor_type-list">
        <h2 class="block-title">{% trans "Investor Type" %}</h2>
        <div class="block-content">
            <ul class="list-unstyled list-topic">
                <li class="item">
                    <span class="topics m2m-tag" ng-clock>
                        <a ng-href="/{[{ organization.get_type_of_organization }]}/browse/#?investor_type__permalink={[{ organization.investor_type.permalink }]}">{[{ organization.investor_type.title }]}</a>
                    </span>
                </li>
            </ul>
        </div>
        <hr class="horizon-line" />
    </div><!-- End Block Investor Types -->

    <!-- Block Organization Types -->
    <div class="block block-sidebar block-topic" ng-if="organization.organization_types.length" id="block-organization_types-list">
        <h2 class="block-title">{% trans "Organization Types" %}</h2>
        <div class="block-content">
            <ul class="list-unstyled list-topic">
                <li ng-repeat="item in organization.organization_types" class="item">
                    <span class="topics m2m-tag" ng-clock>
                        <a ng-href="/{[{ organization.get_type_of_organization }]}/browse/#?organization_types__permalink={[{ item.permalink }]}">{[{ item.title }]}</a>
                    </span>
                </li>
            </ul>
        </div>
        <hr class="horizon-line" />
    </div><!-- End Block Organization Types -->

    <!-- Block Focus Industry -->
    <div class="block block-sidebar block-topic" ng-if="organization.focus_industry.length" id="block-focus_industry-list">
        <h2 class="block-title">{% trans "Focus Industry" %}</h2>
        <div class="block-content">
            <ul class="list-unstyled list-topic">
                <li ng-repeat="item in organization.focus_industry" class="item">
                    <span class="topics m2m-tag" ng-clock>
                        <a ng-href="/{[{ organization.get_type_of_organization }]}/browse/#?focus_industry__permalink={[{ item.permalink }]}">{[{ item.title }]}</a>
                    </span>
                </li>
            </ul>
        </div>
        <hr class="horizon-line" />
    </div><!-- End Block Focus Industry -->

    <!-- Block Received Investment from -->
    <div class="block block-sidebar block-topic" ng-if="organization.financial_source.length" id="block-financial_source">
        <h2 class="block-title">{% trans "Received Investment from" %}</h2>
        <div class="block-content">
            <ul class="list-unstyled list-topic">
                <li ng-repeat="item in organization.financial_source" class="item">
                    <span class="topics m2m-tag" ng-clock>
                        <a ng-href="/{[{ organization.get_type_of_organization }]}/browse/#?financial_source__permalink={[{ item.permalink }]}">
                            {[{ (item.title == 'Other' && organization.other_financial_source) || item.title }]}
                        </a>
                    </span>
                </li>
            </ul>

        </div>
        <hr class="horizon-line" />
    </div><!-- End Block Received Investment from -->

    {% comment %}
    <!-- Block : Assistance Required (aka Type of need) -->
    <div class="block block-sidebar block-topic" ng-if="organization.assistance_organization.length" id="block-assistance_organization">
        <h2 class="block-title">{% trans "Assistance Required" %}</h2>
        <div class="block-content">
            <ul class="list-unstyled list-topic">
                <li ng-repeat="item in organization.assistance_organization" class="item">
                    <span class="topics m2m-tag" ng-clock>
                        <a ng-href="/{[{ organization.get_type_of_organization }]}/browse/#?assistance_organization__permalink={[{ item.assistance.permalink }]}" class="link-tooltip" data-toggle="tooltip" data-placement="left" title="{[{ item.description }]}">
                            {[{ item.assistance.title }]}
                        </a>
                    </span>
                </li>
            </ul>
        </div>
        <hr class="horizon-line" />
    </div><!-- End Block : Assistance Required -->
    {% endcomment %}

    <!-- Block Funding Type -->
    <div class="block block-sidebar block-topic" ng-if="organization.program && organization.program.investment_stage_type.length" id="block-investment_stage_type">
        <h2 class="block-title">{% trans "Stage" %}</h2>
        <div class="block-content">
            <ul class="list-unstyled list-topic">
                <li ng-repeat="item in organization.program.investment_stage_type" class="item">
                    <span class="topics m2m-tag" ng-clock>
                        <a ng-href="/{[{ organization.get_type_of_organization }]}/browse/#?investment_stage_type__permalink={[{ item.permalink }]}">
                            {[{ item.title }]}
                        </a>
                    </span>
                </li>
            </ul>

        </div>
        <hr class="horizon-line" />
    </div><!-- End Block Received Investment From -->

    <!-- Block Happening -->
    <div class="block block-sidebar block-happening happening-se-detail" ng-controller="BasicPartyListController" ng-init="init('/api/v1/happening/', {limit: 2, offset: 0, unpublished: true, receiver_or_actor: organization_id})" ng-show="party_list.length > 0">
        <h2 class="block-title">{% trans "Latest" %}</h2>
        <div class="block-content">
            <ul class="item-list">
                <li class="item item-happening" ng-repeat="party in party_list" ng-include="'happening_list_text2.html'">
                </li>
            </ul>
            <a class="loadmore-wrapper clear" ng-click="selected_tab(3)" ng-class="load_more_class()">
                <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans "See All" %}</span>
            </a>
        </div>
        <hr class="horizon-line" />
    </div><!-- End Block Job -->


    <!-- Block Job -->
    <div id="job" class="block block-sidebar block-job -sidebar job-se-detail" ng-controller="BasicPartyListController" ng-init="init('/api/v1/job/', {limit: 10, offset: 0, organization_jobs: organization_id})" ng-show="party_list.length > 0">
        <div class="block-content">
            <h2 class="block-title">Jobs</h2>
            <ul class="item-list ">
                <li class="item item-job" ng-repeat="job in party_list" ng-include="'job_list.html'">
                </li>
            </ul>
            <a class="loadmore-wrapper" ng-click="load_more()" ng-class="load_more_class()">
                <span ng-hide="is_loading" class="btn-startup btn-startup--third">{% trans 'Load more' %}</span>
                <img ng-show="is_loading" ng-src="/static/images/loading.gif" class="loading-icon" >
            </a>
        </div>
    </div><!-- End Block Job -->

</div><!-- End Block Testimonial -->

{% endblock %}


{% block modal %}

<!-- Contact modal -->
<div class="modal fade" id="modal-message" tabindex="-1" >
    <div class="modal-dialog contact-popup base-action-modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal" type="button"><span>&times;</span><span class="sr-only">{%  trans 'Close' %}</span></button>
                <h2 class="modal-title" id="model-contact-label" >{% trans 'Contact' %}</h2>
            </div>
            <div class="modal-body">

                <ul class="list-mini no-bullet item-list -contact">
                    <li class="item"><div class="field-label">{% trans "Name of representative" %}</div>{[{ organization.name_of_representative }]}</li>
                    <li class="item"><div class="field-label">{% trans "Email of Contact Person" %}</div>{[{ organization.email_of_contact_person || working_spaces_information['email'] }]}</li>
                    <li class="item"><div class="field-label">{% trans "Phone number" %}</div>
                        <span ng-repeat="value in organization.phone_number_of_organizations_headquarters" ng-if="value.phone_number != organization.phone_number_of_contact_person">{[{ value.phone_number }]}<span ng-if="!$last || organization.phone_number_of_contact_person">, </span></span>
                        <span ng-if="organization.phone_number_of_contact_person">{[{ organization.phone_number_of_contact_person }]}</span>
                    </li>
                    <li class="item"><div class="field-label">{% trans "Address" %}</div>{[{ organization.location_of_organizations_headquarters || working_spaces_information['address'] }]}</li>
                </ul>

                {% comment %}
                {% if user.is_authenticated %}

                <div class="text-center">
                    <a href="" class="link-sendmsg" data-toggle="collapse" data-target="#collapseMessage" aria-expanded="false" aria-controls="collapseMessage">{%  trans 'Click to send this message' %}</a>
                </div>
                </button>
                <div class="collapse" id="collapseMessage">
                    <form
                            role="form"
                            ng-submit="
                                http_to_api_with_party({
                                    api: '/api/v1/party_contact_party/',
                                    party: organization,
                                    params: {dst: organization.party_resource_uri, data: message},
                                    update_total: 'total_contact',
                                    model_name: 'message',
                                    hide_modal: true,
                                    type: 'POST',
                                })"
                            novalidate
                            class="form-contact">
                        <div>
                            <label ng-cloak>{% trans "Leave a message for" %} {[{ organization.get_display_name }]}</label>
                            <img ng-show="is_post_contact" ng-src="/static/images/loading.gif" class="loading-icon">
                        </div>
                        <textarea class="form-control" rows="5" name="message" ng-model="message" required></textarea>

                        <button type="submit" class="btn btn-primary -big">{% trans "Send" %}</button>
                    </form>
                </div>

                {% else %}

                <a data-target="#modal-login" data-toggle="modal" ng-cloak> {% trans "Please login before leave a message for" %} {[{ people.get_display_name }]}</a>

                {% endif %}
                {% endcomment %}
            </div>

        </div>
    </div>
</div>

<!-- Contact staff modal -->
<div class="modal fade" id="modal-staffmessage" tabindex="-1" >
    <div class="modal-dialog contact-popup base-action-modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal" type="button"><span>&times;</span><span class="sr-only">Close</span></button>
                <h2 class="modal-title" id="model-contact-label" >{% trans 'Message to Administrator' %}</h2>
            </div>
            <div class="modal-body">
                {% if user.is_authenticated %}


                <form
                        role="form"
                        ng-submit="
                            http_to_api_with_party({
                                api: '/api/v1/party_contact_party/',
                                party: organization,
                                params: {dst: organization.party_resource_uri, data: staffmessage, system: true},
                                update_total: 'total_contact',
                                model_name: 'staffmessage',
                                hide_modal: true,
                                type: 'POST',
                            })"
                        novalidate
                        class="form-contact">
                    <div>
                        <label ng-cloak>{% trans "Leave a message for" %} {[{ organization.get_display_name }]}</label>
                        <img ng-show="is_post_contact" ng-src="/static/images/loading.gif" class="loading-icon">
                    </div>
                    <textarea class="form-control" rows="5" name="message" ng-model="staffmessage" required></textarea>

                    <button type="submit" class="btn btn-primary btn-post btn-pink">Send</button>

                </form>
                {% else %}

                <a data-target="#modal-login" data-toggle="modal" ng-cloak> {%  trans 'Please login before leave a message for' %} {[{ people.get_display_name }]}</a>

                {% endif %}
            </div>

        </div>
    </div>
</div>

<!-- Invite testimonial modal -->
<div class="modal fade" id="modal-invite" tabindex="-1" >
    <div class="modal-dialog contact-popup base-action-modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" data-dismiss="modal" type="button"><span>&times;</span><span class="sr-only">{% trans "Close" %}</span></button>
                <h2 class="modal-title" id="model-contact-label" >{% trans "Invite" %}</h2>
            </div>
            <div class="modal-body">
                {% invite_testify_create_form %}
            </div>
        </div>
    </div>
</div>

{% endblock %}
